{% extends 'base.html' %}
{% load static %}
{% block content %}

{% if errors %}
<ul id="errors" class="alert alert-danger list-unstyled">
    
    <li>{{ errors }}</li>

</ul>
{% endif %}

<div class="card mb-3">
    <div class="row g-0">
        <div class="col-md-4">
            <img src="{% static 'products/icono_moto.svg' %}"
                class="img-fluid rounded-start">
        </div>
        <div class="col-md-8">
            <div class="card-body">
                <h3 class="card-title">Nombre:</h3>
                <p class="fst-normal">{{product.name}}</p>

                <h5 class="fw-bold">Referencia:</h5>
                <p class="fst-normal">{{product.reference}}</p>

                <h5 class="fw-bold">Marca: </h5>
                <p class="fst-normal">{{product.brand}}</p>

                <h5 class="fw-bold">Precio:</h5>
                <p class="fst-normal">{{product.price}}</p>


                <h5 class="fw-bold">Descripcion:</h5>
                <p class="fst-normal">{{product.description}}</p>


                <h5 class="fw-bold">Unidades disponibles:</h5>
                <p class="fst-normal">{{product.stock}}</p>


            </div>
        </div>
        
    </div>

</div>

<form method="POST">
    {% csrf_token %}
    {% if user.is_superuser == True%}
    <input type="submit" class="btn btn-danger" value="Eliminar Producto" name="delete" />
    <a class="btn btn-success" href="update/{{product.id}}">Actualizar Datos</a>  
    {%endif%}
</form>

<form method="POST">
{% csrf_token %}
{% if user.is_authenticated == True%}
<div class="d-flex flex-column bd-highlight mb-3"> Dale una calificacion al producto
<select name="{{ form.rating.name }}"  class="form-select p-2 bd-highlight">
    {% for value, label in form.rating.field.choices %}
        <option value="{{ value }}">{{ label }}</option>
    {% endfor %}
</select>
</div>
<input type="submit" class="btn btn-primary" value="Rate the product" name="rate" />
</form>
{%endif%}
{% endblock %}